<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  
  <head th:replace="~{frags/frags :: pageHead('My pizzas')}" />
  
  <body>
		
		<header th:replace="~{frags/frags :: header}"></header>
		
		<div class="container">
			
			<form>
				<label for="filter">Search</label>
				<br />
				<div class="d-flex align-items-center gap-3">
					<input type="text" name="filter" id="filter" placeholder="Type a filter..." th:value="${filter}">
					<button class="btn btn-outline-dark" type="submit">Search</button>
				</div>
			</form>
			
			<div class="my-5">
				<a href="/create" class="btn btn-outline-dark">Insert a new pizza</a>
			</div>
			
			<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
				<div class="col mb-5 pb-3 text-center" th:each="pizza : ${pizzas}" th:object="${pizza}">
					<div class="card border-0 h-100">
						<div class="card-header border-0 bg-white w-100">
							<a th:href="@{/{id}(id=*{id})}" class="d-block text-center w-100 text-decoration-none text-dark" style="aspect-ratio: 16 / 9;">
								<img th:src="*{url}" class="h-100" style="aspect-ratio: 16 / 9; object-fit: contain;" />
							</a>
						</div>
						<div class="card-body d-flex justify-content-center align-items-center">
							<a th:href="@{/{id}(id=*{id})}" class="text-decoration-none text-dark">
								<h3 class="mb-0">
									<strong>[[*{name}]]</strong> - [[*{#numbers.formatDecimal({price / 100}, 1, 2)}]]â‚¬
								</h3>
								<p class="mb-0">[[*{description}]]</p>
							</a>
						</div>
						<div class="card-footer d-flex justify-content-center gap-2 border-0 bg-white">
							<a th:href="@{/edit/{id}(id=*{id})}">
								<i class="fa-solid fa-pen-to-square text-white bg-dark py-2 px-4 rounded-5 pointer" style="cursor: pointer;"></i>
							</a>
							<form th:action="@{/delete/{id}(id=*{id})}" method="post">
								<button type="submit" class="border-0 bg-transparent p-0">
									<i class="fa-solid fa-trash text-danger bg-dark py-2 px-4 rounded-5 pointer" style="cursor: pointer;"></i>
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
			
			<h3 th:unless="${pizzas.size > 0}">
				No pizza found
			</h3>
			
		</div>
    
  </body>
  
</html>
